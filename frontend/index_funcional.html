<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Agenda MÃ©dica - Hospital SÃ£o Paulo</title>
    <link rel="stylesheet" href="css/style_funcional.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <h1>ğŸ¥ Hospital SÃ£o Paulo</h1>
                <p>Sistema de GestÃ£o MÃ©dica</p>
            </div>
            <div class="status" id="connection-status">
                <span class="status-indicator"></span>
                <span id="status-text">Conectando...</span>
            </div>
        </header>

        <!-- NavegaÃ§Ã£o -->
        <nav class="nav-tabs">
            <button class="tab-btn active" data-tab="dashboard">ğŸ“Š Dashboard</button>
            <button class="tab-btn" data-tab="cadastrar">ğŸ‘¤ Cadastrar Paciente</button>
            <button class="tab-btn" data-tab="buscar">ğŸ” Buscar Paciente</button>
            <button class="tab-btn" data-tab="agendar">ğŸ“… Agendar Consulta</button>
            <button class="tab-btn" data-tab="urgencia">ğŸš¨ UrgÃªncias</button>
            <button class="tab-btn" data-tab="prontuario">ğŸ“‹ ProntuÃ¡rios</button>
        </nav>

        <!-- ConteÃºdo -->
        <main class="main-content">
            
            <!-- Dashboard -->
            <section id="dashboard" class="tab-content active">
                <h2>ğŸ“Š Dashboard - SituaÃ§Ã£o Atual</h2>
                <div class="dashboard-cards">
                    <div class="card">
                        <h3>ğŸ‘¥ Pacientes Cadastrados</h3>
                        <div class="card-value" id="total-pacientes">0</div>
                        <p>Busca instantÃ¢nea em menos de 1ms</p>
                    </div>
                    <div class="card">
                        <h3>ğŸ“… Consultas Hoje</h3>
                        <div class="card-value" id="consultas-hoje">0</div>
                        <p>Agenda otimizada automaticamente</p>
                    </div>
                    <div class="card">
                        <h3>ğŸš¨ Fila de UrgÃªncia</h3>
                        <div class="card-value" id="urgencias-fila">0</div>
                        <p>PriorizaÃ§Ã£o automÃ¡tica por gravidade</p>
                    </div>
                    <div class="card">
                        <h3>ğŸ’¾ ProntuÃ¡rios</h3>
                        <div class="card-value" id="prontuarios-comprimidos">0</div>
                        <p>CompressÃ£o inteligente economiza 40% espaÃ§o</p>
                    </div>
                </div>
                
                <div class="quick-actions">
                    <button class="btn btn-primary" onclick="app.popularDadosDemo()">ğŸ“Š Carregar Dados Demo</button>
                    <button class="btn btn-secondary" onclick="app.resetarSistema()">ğŸ”„ Limpar Sistema</button>
                </div>
            </section>

            <!-- Cadastrar Paciente -->
            <section id="cadastrar" class="tab-content">
                <h2>ğŸ‘¤ Cadastrar Novo Paciente</h2>
                <form id="form-paciente" class="form-grid">
                    <div class="form-group">
                        <label for="nome">Nome Completo *</label>
                        <input type="text" id="nome" required placeholder="Ex: JoÃ£o Silva Santos">
                    </div>
                    <div class="form-group">
                        <label for="cpf">CPF *</label>
                        <input type="text" id="cpf" required placeholder="000.000.000-00" maxlength="14">
                    </div>
                    <div class="form-group">
                        <label for="idade">Idade</label>
                        <input type="number" id="idade" min="0" max="120" placeholder="35">
                    </div>
                    <div class="form-group">
                        <label for="telefone">Telefone</label>
                        <input type="tel" id="telefone" placeholder="(11) 99999-9999">
                    </div>
                    <div class="form-group">
                        <label for="email">E-mail</label>
                        <input type="email" id="email" placeholder="joao@email.com">
                    </div>
                    <div class="form-group">
                        <label for="convenio">ConvÃªnio</label>
                        <select id="convenio">
                            <option value="SUS">SUS</option>
                            <option value="Unimed">Unimed</option>
                            <option value="Bradesco">Bradesco SaÃºde</option>
                            <option value="Amil">Amil</option>
                            <option value="SulAmerica">SulAmÃ©rica</option>
                        </select>
                    </div>
                    <div class="form-group full-width">
                        <label for="endereco">EndereÃ§o</label>
                        <input type="text" id="endereco" placeholder="Rua, nÃºmero, bairro, cidade">
                    </div>
                    <div class="form-actions full-width">
                        <button type="submit" class="btn btn-success">âœ… Cadastrar Paciente</button>
                        <button type="reset" class="btn btn-secondary">ğŸ”„ Limpar FormulÃ¡rio</button>
                    </div>
                </form>
                <div id="resultado-cadastro" class="result-area"></div>
            </section>

            <!-- Buscar Paciente -->
            <section id="buscar" class="tab-content">
                <h2>ğŸ” Buscar Paciente</h2>
                <div class="search-area">
                    <div class="search-box">
                        <input type="text" id="busca-cpf" placeholder="Digite o CPF do paciente" maxlength="14">
                        <button class="btn btn-primary" onclick="app.buscarPaciente()">ğŸ” Buscar</button>
                    </div>
                    <p class="search-info">ğŸ’¡ A busca Ã© instantÃ¢nea usando Tabela Hash - Complexidade O(1)</p>
                </div>
                <div id="resultado-busca" class="result-area"></div>
                
                <div class="patients-list">
                    <h3>ğŸ‘¥ Pacientes Cadastrados</h3>
                    <div id="lista-pacientes"></div>
                </div>
            </section>

            <!-- Agendar Consulta -->
            <section id="agendar" class="tab-content">
                <h2>ğŸ“… Agendar Nova Consulta</h2>
                <form id="form-consulta" class="form-grid">
                    <div class="form-group">
                        <label for="consulta-cpf">CPF do Paciente *</label>
                        <input type="text" id="consulta-cpf" required placeholder="000.000.000-00">
                        <button type="button" class="btn-small" onclick="app.verificarPacienteConsulta()">Verificar</button>
                    </div>
                    <div class="form-group">
                        <label for="data-consulta">Data *</label>
                        <input type="date" id="data-consulta" required>
                    </div>
                    <div class="form-group">
                        <label for="hora-consulta">HorÃ¡rio *</label>
                        <input type="time" id="hora-consulta" required>
                    </div>
                    <div class="form-group">
                        <label for="medico">MÃ©dico *</label>
                        <select id="medico" required>
                            <option value="">Selecione o mÃ©dico</option>
                            <option value="Dr. Carlos Roberto - Cardiologia">Dr. Carlos Roberto - Cardiologia</option>
                            <option value="Dra. Ana Paula - Ginecologia">Dra. Ana Paula - Ginecologia</option>
                            <option value="Dr. JosÃ© Fernando - Geriatria">Dr. JosÃ© Fernando - Geriatria</option>
                            <option value="Dr. Ricardo Oliveira - Ortopedia">Dr. Ricardo Oliveira - Ortopedia</option>
                            <option value="Dra. Mariana Costa - Endocrinologia">Dra. Mariana Costa - Endocrinologia</option>
                        </select>
                    </div>
                    <div class="form-group full-width">
                        <label for="observacoes">ObservaÃ§Ãµes</label>
                        <textarea id="observacoes" placeholder="Motivo da consulta, sintomas, etc."></textarea>
                    </div>
                    <div class="form-actions full-width">
                        <button type="submit" class="btn btn-success">ğŸ“… Agendar Consulta</button>
                    </div>
                </form>
                <div id="resultado-agendamento" class="result-area"></div>
                
                <div class="agenda-view">
                    <h3>ğŸ“… Consultas Agendadas</h3>
                    <p class="info">ğŸŒ³ Agenda otimizada com Ãrvore AVL - Sempre balanceada O(log n)</p>
                    <div id="lista-consultas"></div>
                </div>
            </section>

            <!-- UrgÃªncias -->
            <section id="urgencia" class="tab-content">
                <h2>ğŸš¨ Fila de UrgÃªncia</h2>
                <form id="form-urgencia" class="form-grid">
                    <div class="form-group">
                        <label for="urgencia-cpf">CPF do Paciente *</label>
                        <input type="text" id="urgencia-cpf" required placeholder="000.000.000-00">
                    </div>
                    <div class="form-group">
                        <label for="prioridade">NÃ­vel de Prioridade *</label>
                        <select id="prioridade" required>
                            <option value="">Selecione a prioridade</option>
                            <option value="1">ğŸ”´ EmergÃªncia - Risco de vida</option>
                            <option value="2">ğŸŸ¡ Urgente - Necessita atendimento rÃ¡pido</option>
                            <option value="3">ğŸŸ¢ Normal - Pode aguardar</option>
                        </select>
                    </div>
                    <div class="form-group full-width">
                        <label for="descricao-urgencia">DescriÃ§Ã£o do Caso *</label>
                        <textarea id="descricao-urgencia" required placeholder="Descreva os sintomas e situaÃ§Ã£o do paciente"></textarea>
                    </div>
                    <div class="form-actions full-width">
                        <button type="submit" class="btn btn-danger">ğŸš¨ Adicionar Ã  Fila</button>
                    </div>
                </form>
                <div id="resultado-urgencia" class="result-area"></div>
                
                <div class="urgency-queue">
                    <h3>ğŸš¨ Fila de Atendimento</h3>
                    <p class="info">âš¡ Fila otimizada com Heap - PriorizaÃ§Ã£o automÃ¡tica O(log n)</p>
                    <div class="queue-controls">
                        <button class="btn btn-primary" onclick="app.chamarProximo()">ğŸ“¢ Chamar PrÃ³ximo</button>
                        <button class="btn btn-secondary" onclick="app.atualizarFila()">ğŸ”„ Atualizar Fila</button>
                    </div>
                    <div id="fila-urgencias"></div>
                </div>
            </section>

            <!-- ProntuÃ¡rios -->
            <section id="prontuario" class="tab-content">
                <h2>ğŸ“‹ GestÃ£o de ProntuÃ¡rios</h2>
                <div class="prontuario-search">
                    <input type="text" id="prontuario-cpf" placeholder="CPF do paciente">
                    <button class="btn btn-primary" onclick="app.buscarProntuario()">ğŸ“‹ Buscar ProntuÃ¡rio</button>
                </div>
                
                <div id="prontuario-resultado" class="result-area"></div>
                
                <div class="compression-demo">
                    <h3>ğŸ’¾ DemonstraÃ§Ã£o de CompressÃ£o</h3>
                    <p class="info">ğŸ—œï¸ Algoritmo Huffman - Reduz espaÃ§o em atÃ© 40%</p>
                    <button class="btn btn-info" onclick="app.demonstrarCompressao()">ğŸ§ª Demonstrar CompressÃ£o</button>
                    <div id="compressao-resultado"></div>
                </div>
            </section>

        </main>
    </div>

    <!-- NotificaÃ§Ãµes -->
    <div id="notification" class="notification"></div>
    
    <!-- Loading -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <p>Processando...</p>
    </div>

    <script src="js/app_funcional.js"></script>
</body>
</html>